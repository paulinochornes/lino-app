(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[433],{1701:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(5155);let s=function(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(n&&(n+=" "),n+=t);return n};function a(e){let{children:t,className:r,variant:a="primary",...o}=e;return(0,n.jsx)("button",{...o,className:s("px-4 py-2 rounded-xl font-semibold transition duration-200","primary"===a?"bg-lino-acento text-white hover:bg-purple-700":"bg-lino-fondo-secundario text-lino-texto hover:bg-lino-fondo",r),children:t})}},1703:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(5155),s=r(2115),a=r(5695),o=r(4409),i=r(1701);function l(){let e=(0,a.useRouter)(),{id:t}=(0,a.useParams)(),[r,l]=(0,s.useState)(""),[c,u]=(0,s.useState)([]),[d,m]=(0,s.useState)(""),[f,b]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{let{data:e,error:t}=await o.N.from("tratamientos").select("id, nombre");t?console.error("Error al obtener tratamientos:",t):u(e)})()},[]);let p=async n=>{if(n.preventDefault(),!r||!d)return void b("Complet\xe1 todos los campos");let{error:s}=await o.N.from("consultas").insert({paciente_id:t,fecha:r,tratamiento_id:d});s?b(s.message):e.push("/admin/pacientes/".concat(t))};return(0,n.jsxs)("main",{className:"min-h-screen p-6 bg-lino-fondo text-lino-texto",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"âž• Nueva consulta"}),(0,n.jsxs)("form",{onSubmit:p,className:"space-y-4 max-w-md",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-medium",children:"Fecha y hora"}),(0,n.jsx)("input",{type:"datetime-local",value:r,onChange:e=>l(e.target.value),className:"w-full p-2 border border-lino-borde rounded"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1 font-medium",children:"Tratamiento"}),(0,n.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full p-2 border border-lino-borde rounded",children:[(0,n.jsx)("option",{value:"",children:"Seleccionar tratamiento"}),c.map(e=>(0,n.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]}),f&&(0,n.jsx)("p",{className:"text-red-600",children:f}),(0,n.jsx)(i.$,{type:"submit",children:"Guardar consulta"})]})]})}},4409:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(5647);if("undefined"==typeof fetch)throw Error('\uD83D\uDEA8 "fetch" no est\xe1 definido en este entorno.');let s=(0,n.UU)("https://pogsyskvqfxanmjplbxn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBvZ3N5c2t2cWZ4YW5tanBsYnhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMTIyMDUsImV4cCI6MjA2ODg4ODIwNX0.NbAtNtcmBakwvmbgR2jLuOlZvAvavsZ3qzFgUZy1Czc")},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},8160:(e,t,r)=>{Promise.resolve().then(r.bind(r,1703))}},e=>{e.O(0,[647,441,964,358],()=>e(e.s=8160)),_N_E=e.O()}]);