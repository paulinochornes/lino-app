(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{1701:(e,r,t)=>{"use strict";t.d(r,{$:()=>a});var n=t(5155);let s=function(){for(var e,r,t=0,n="",s=arguments.length;t<s;t++)(e=arguments[t])&&(r=function e(r){var t,n,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r)if(Array.isArray(r)){var a=r.length;for(t=0;t<a;t++)r[t]&&(n=e(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(n&&(n+=" "),n+=r);return n};function a(e){let{children:r,className:t,variant:a="primary",...o}=e;return(0,n.jsx)("button",{...o,className:s("px-4 py-2 rounded-xl font-semibold transition duration-200","primary"===a?"bg-lino-acento text-white hover:bg-purple-700":"bg-lino-fondo-secundario text-lino-texto hover:bg-lino-fondo",t),children:r})}},4409:(e,r,t)=>{"use strict";t.d(r,{N:()=>s});var n=t(5647);if("undefined"==typeof fetch)throw Error('\uD83D\uDEA8 "fetch" no est\xe1 definido en este entorno.');let s=(0,n.UU)("https://pogsyskvqfxanmjplbxn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBvZ3N5c2t2cWZ4YW5tanBsYnhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzMTIyMDUsImV4cCI6MjA2ODg4ODIwNX0.NbAtNtcmBakwvmbgR2jLuOlZvAvavsZ3qzFgUZy1Czc")},5695:(e,r,t)=>{"use strict";var n=t(8999);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},7192:(e,r,t)=>{Promise.resolve().then(t.bind(t,8125))},8125:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(5155),s=t(2115),a=t(5695),o=t(4409),l=t(1701);function i(){let[e,r]=(0,s.useState)(""),[t,i]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),[d,m]=(0,s.useState)([]),[b,p]=(0,s.useState)(""),f=(0,a.useRouter)();(0,s.useEffect)(()=>{(async()=>{let{data:e,error:r}=await o.N.from("pacientes").select("id, nombre").order("nombre");r?console.error("Error al cargar pacientes:",r):m(e||[])})()},[]);let h=async r=>{r.preventDefault(),p("");let{error:n}=await o.N.from("consultas").insert({fecha:e,paciente_id:t,tratamiento:{nombre:u}});if(n){console.error("Error al guardar el turno:",n),p("No se pudo guardar el turno.");return}f.push("/admin/turnos")};return(0,n.jsxs)("main",{className:"min-h-screen p-6 bg-lino-fondo text-lino-texto",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"➕ Agendar nuevo turno"}),(0,n.jsxs)("form",{onSubmit:h,className:"space-y-4 max-w-md",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1",children:"\uD83D\uDC64 Paciente"}),(0,n.jsxs)("select",{value:t,onChange:e=>i(e.target.value),required:!0,className:"w-full border border-lino-borde rounded-xl p-2",children:[(0,n.jsx)("option",{value:"",children:"Seleccionar paciente"}),d.map(e=>(0,n.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1",children:"\uD83D\uDCC5 Fecha"}),(0,n.jsx)("input",{type:"date",value:e,onChange:e=>r(e.target.value),className:"w-full border border-lino-borde rounded-xl p-2",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block mb-1",children:"\uD83D\uDC86‍♀️ Tratamiento"}),(0,n.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),className:"w-full border border-lino-borde rounded-xl p-2",required:!0})]}),b&&(0,n.jsx)("p",{className:"text-red-500",children:b}),(0,n.jsx)(l.$,{type:"submit",className:"mt-4",children:"Guardar turno"})]})]})}}},e=>{e.O(0,[647,441,964,358],()=>e(e.s=7192)),_N_E=e.O()}]);